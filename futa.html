<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HENTAI</title>
    
    <link rel="stylesheet" href="futa.css">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
</head>
<body>

    <header id="dynamic-header">
        <img id="header-wallpaper" src="" alt="Header Wallpaper" style="object-position: center center;">

        <div id="header-content">
            <h1>HENTAI</h1>
            <p>Eri Davira</p>
        </div>
    </header>

    <main>
        <section id="upload-form-container">
            
            <div id="header-settings-panel">
                <h2>Pengaturan Header Dinding</h2>
                <form id="wallpaper-setting-form">
                    <input type="url" id="wallpaper-link" placeholder="Link Gambar Dinding Header" required>
                    <div id="focus-control-panel" style="display:none;">
                        <p style="margin-bottom: 5px;">Fokus: <span id="current-focus-display">50% 50%</span></p>
                        <button type="button" id="focus-up">↑</button>
                        <button type="button" id="focus-down">↓</button>
                        <button type="button" id="focus-left">←</button>
                        <button type="button" id="focus-right">→</button>
                        <button type="button" id="focus-reset">Reset</button>
                    </div>
                    <button type="submit" id="set-wallpaper-btn">Ganti Dinding</button>
                </form>
            </div>
            
            <h2>Unggah Media Baru</h2>
            <form id="media-form">
                <input type="text" id="admin-nickname-input" placeholder="Nama Admin" required>
                <input type="text" id="caption" placeholder="Keterangan Gambar (Opsional)">
                <input type="url" id="thumbnail-url" placeholder="Link Thumbnail (Wajib)" required>
                <input type="url" id="original-url" placeholder="Link Media Asli (Wajib)" required>
                <select id="rarity-select">
                    <option value="Silver">Silver</option>
                    <option value="Gold">Gold</option>
                    <option value="Epic">Epic</option>
                    <option value="Legendary">Legendary</option>
                </select>
                <button type="submit" id="submit-btn">Kirim Anonim</button>
            </form>
        </section>

        <div class="filter-controls">
            <input type="text" id="search-input" placeholder="Cari berdasarkan nama atau caption...">
            <label for="sort-select">Urutkan:</label>
            <select id="sort-select">
                <option value="latest">Terbaru</option>
                <option value="oldest">Terlama</option>
            </select>
            <label>Filter Kelangkaan:</label>
            <div id="rarity-checkboxes">
                </div>
        </div>
        
        <div id="feed-header-controls">
            <h2 id="feed-title">Feed Terbaru</h2>
            <a href="https://eridavira07.github.io/eridavirapost/index.html" class="quick-nav-btn">Hentai</a>
        </div>

        <div id="media-feed">
            </div>

        <div id="loading-indicator" style="display: none;">Memuat Postingan...</div>

        <div class="pagination-controls">
            <button id="prev-page-btn" disabled>← Sebelumnya</button>
            <span id="page-numbers-display">Halaman 1 dari 1</span>
            <input type="number" id="jump-to-page-input" min="1" value="1">
            <button id="jump-to-page-btn">Lompat</button>
            <button id="next-page-btn" disabled>Selanjutnya →</button>
        </div>
    </main>
    
    <div id="media-modal" class="modal">
        <div class="modal-content-wrapper">
            <span class="close-btn">&times;</span>
            <div class="modal-image-container">
                <img id="modal-image" src="" alt="Media Besar">
            </div>
            <div class="modal-comments-section">
                <h3>Komentar</h3>
                <div style="padding: 5px 0 10px 0; border-bottom: 1px solid var(--border-color);">
                    <p style="margin: 0 0 5px 0; font-size: 0.9em; color: #a0aec0;">ID Sesi Anda: <span id="session-id-display">Memuat...</span></p>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="nickname-input" placeholder="Masukkan Nama Anda" style="flex-grow: 1;">
                        <button type="button" id="set-nickname-btn">Set Nama</button>
                    </div>
                </div>
                <div id="comments-list" class="comments-list" style="margin-top: 15px;">
                    </div>
                <form id="comment-form" class="comment-form">
                    <input type="text" id="comment-input" placeholder="Tulis komentar Anda..." required>
                    <button type="submit">Kirim</button>
                </form>
            </div>
        </div>
    </div>

    <div id="edit-post-modal" class="modal">
        <div class="modal-content-edit">
            <span id="close-edit-btn" class="close-btn">&times;</span>
            <h2>Edit Postingan</h2>
            <form id="edit-post-form">
                <input type="hidden" id="edit-post-id">
                <label for="edit-nickname">Nama:</label>
                <input type="text" id="edit-nickname" required>
                <label for="edit-caption">Keterangan:</label>
                <textarea id="edit-caption"></textarea>
                <label for="edit-rarity-select">Kelangkaan:</label>
                <select id="edit-rarity-select">
                    <option value="Silver">Silver</option>
                    <option value="Gold">Gold</option>
                    <option value="Epic">Epic</option>
                    <option value="Legendary">Legendary</option>
                </select>
                <button type="submit" id="save-edit-btn">Simpan Perubahan</button>
            </form>
        </div>
    </div>

    <script src="futa.js"></script>
</body>
</html>